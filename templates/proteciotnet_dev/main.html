{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <title>ProtecIoTnet</title>
    <link rel="shortcut icon" type="image/png" href="{% static 'img/favicon.png' %}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <link rel="stylesheet" href="{% static "css/icon.css" %}">
    <link rel="stylesheet" href="{% static "cdn/fontawesome/css/all.css" %}">
    <link rel="stylesheet" href="{% static "css/materialize.min.css" %}" media="screen,projection"/>
    <link rel="stylesheet" href="{% static "css/proteciotnet_style.css" %}">

    <script src="{% static "js/jquery.min.js" %}"></script>
    <script src="{% static "js/Chart.min.js" %}"></script>
    <script src="{% static "js/clipboard.min.js" %}"></script>
    <script src="{% static "js/sweetalert.min.js" %}"></script>
    <script src="{% static "js/async.js" %}"></script>

    <script>
        window.onscroll = function () {
            scrollFunction()
        };

        function scrollFunction() {
            if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
                $('#backToTopBtn').fadeIn();
            } else {
                $('#backToTopBtn').fadeOut();
            }
        }

        function topFunction() {
            document.body.scrollTop = 0;                // For Safari
            document.documentElement.scrollTop = 0;     // For Chrome, Firefox, IE and Opera
        }

        document.addEventListener("DOMContentLoaded", function () {
            const toggleCheckbox = document.getElementById("modeToggle");

            toggleCheckbox.addEventListener("change", function () {
                csrftoken = $('input[name="csrfmiddlewaretoken"]').val();
                $.post('/set_online_state', {
                    'csrfmiddlewaretoken': csrftoken,
                    'online_status': toggleCheckbox.checked
                }).done(function (d) {
                    if (typeof (d['error']) != 'undefined') {
                        console.log("ERROR setting toggle");
                    } else {
                        console.log("SUCCESS setting toggle");
                    }
                });
            });
        });

    </script>

    <style>
        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url({% static "/img/14.svg" %});
            background-size: cover;
            background-repeat: no-repeat;
            opacity: 1; /* Adjust the opacity to dim the background */
            z-index: -99; /* Place the background behind other elements */

        }
    </style>
</head>

<body>

<div class="background"></div>

<div class="navbar-fixed">
    <nav class="" id="topnavbar" style="background-color:rgba(10,10,10,0.0);box-shadow:none;">
        <div class="nav-wrapper">
            <div class="row no-margin">
                <div class="col s1 hide-on-large-only" style="max-width:60px;">
                    <a href="#!" onclick="javascript:$('.sidenav').sidenav('open');"><i
                            class="material-icons white-text">menu</i></a>
                </div>
                <div class="col s4">
                    <a href="/setscanfile/unset" class="brand-logo"><img src="/static/logo.png"
                                                                         style="max-width:200px;margin-top:8px;"
                                                                         alt="logo ProtecIoTnet"></a>

                </div>

{#                <div class="col s4">#}
{#                    <form onsubmit="" role="search" class="search_form">#}
{#                        <input class="search_input" id="search" type="search" placeholder="Search..." autofocus#}
{#                               required/>#}
{#                        <button class="nav_search_btn" type="submit">#}
{#                            <i class="fa fa-search"></i>#}
{#                        </button>#}
{#                    </form>#}
{#                </div>#}

                <div class="col s5">
                    <label class="toggle right">
                        <input id="modeToggle" class="toggle-checkbox" type="checkbox" checked>
                        <div class="toggle-switch"></div>
                        <span class="toggle-label">Offline Mode</span>
                    </label>
                </div>

            </div>

        </div>
    </nav>
</div>


<div class="arrow-up hide-on-med-and-down"></div>
<div class="wm_menu grey-text hide-on-med-and-down show-on-large">
    <ul>
        <li><i class="material-icons">home</i> <a href="/setscanfile/unset">Show all scans</a></li>
        <li><i class="material-icons">info</i> <a href="/">Show scan details</a></li>
        <li><i class="material-icons">wifi</i> <a href="#!" onclick="javascript:newscan();">New Nmap scan</a></li>
        <li><i class="material-icons">sensors</i><a href="/">New ZigBee Scan</a></li>
        <li><i class="material-icons">bluetooth</i><a href="/">New Bluetooth Scan</a></li>

        {% if scanfile %}
            {#            <li><i class="fas fa-file-pdf" style="margin-left:2px;font-size:20px;"></i> <a href="#!"#}
            {#                                                                                           onclick="javascript:genPDF('{{ scanmd5 }}');">PDF#}
            {#                Report</a></li>#}
            <li><i class="fas fa-bug" style="margin-left:2px;font-size:20px;"></i> <a href="#!"
                                                                                      onclick="javascript:checkCVE();">Check
                CVE</a></li>

        {% endif %}
        <li></li>
        {#        <li id="activescan_line" class="wm_line"><div>scan</div></li>#}
        {#        <section id="activescan_info">#}
        {#            <li><i class="fas fa-info-circle"></i> <a href="#!" id="activescan_details">&nbsp;</a></li>#}
        {#        </section>#}
        {#        <li id="activescan_progress"><div class="progress"><div class="indeterminate orange"></div></div></li>#}

        {#        {% if address %}#}
        {#        {% else %}#}
        {#            <li class="wm_line"><div>more</div></li>#}
        {#            {% for i,v in tr.items %}#}
        {#                {% if v.filename %}#}
        {#                    <li><i class="material-icons">save</i> <a href="{{ v.href }}">{{ v.filename|safe }}</a></li>#}
        {#                {% else %}#}
        {#                    <li><i class="material-icons">devices</i> <a href="/report/{{ i }}">{{ i }}</a></li>#}
        {#                {% endif %}#}
        {#            {% endfor %}#}
        {#        {% endif %}#}
        {##}
        {#        {% if cveids %}#}
        {#            <li class="wm_line"><div>CVE</div></li>#}
        {#            {% for i,v in cveids.items %}#}
        {#                <li><i class="material-icons">bug_report</i> <a onclick="javascript:$('html, body').animate({ scrollTop: ($('#{{ i }}').offset().top - 60) }, 1000);" href="#!">{{ i }}</a></li>#}
        {#            {% endfor %}#}
        {#        {% endif %}#}
        <li class="wm_line">
            <div>social</div>
        </li>
        <li><i class="fab fa-gitlab"></i> <a href="https://gitlab.com/hweckermann/proteciotnet">GitLab Project</a></li>
        {#        <li> <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M503.5 204.6L502.8 202.8L433.1 21.02C431.7 17.45 429.2 14.43 425.9 12.38C423.5 10.83 420.8 9.865 417.9 9.57C415 9.275 412.2 9.653 409.5 10.68C406.8 11.7 404.4 13.34 402.4 15.46C400.5 17.58 399.1 20.13 398.3 22.9L351.3 166.9H160.8L113.7 22.9C112.9 20.13 111.5 17.59 109.6 15.47C107.6 13.35 105.2 11.72 102.5 10.7C99.86 9.675 96.98 9.295 94.12 9.587C91.26 9.878 88.51 10.83 86.08 12.38C82.84 14.43 80.33 17.45 78.92 21.02L9.267 202.8L8.543 204.6C-1.484 230.8-2.72 259.6 5.023 286.6C12.77 313.5 29.07 337.3 51.47 354.2L51.74 354.4L52.33 354.8L158.3 434.3L210.9 474L242.9 498.2C246.6 500.1 251.2 502.5 255.9 502.5C260.6 502.5 265.2 500.1 268.9 498.2L300.9 474L353.5 434.3L460.2 354.4L460.5 354.1C482.9 337.2 499.2 313.5 506.1 286.6C514.7 259.6 513.5 230.8 503.5 204.6z"/></svg> <a href="https://gitlab.com/hweckermann/proteciotnet">GitLab Project</a></li>#}
        <li><i class="fas fa-star"></i> <a href="https://gitlab.com/hweckermann/proteciotnet" id="gitlabstar">Star this
            project</a></li>
        <li><i class="fas fa-code-branch"></i> <a href="https://gitlab.com/hweckermann/proteciotnet" id="gitlabfork">Fork
            this project</a></li>
    </ul>


</div>


{% if scanfile %}
    <ul id="slide-out" class="sidenav">
        <li>
            <div class="user-view">
                <div class="background" style="text-align:center;">
                    <img src="/static/logoblack.png" style="max-width:200px;margin-top:20px;">
                </div>
                <br>
            </div>
        </li>
        <li><a href="/setscanfile/unset"><i class="material-icons">wifi</i>Show all Nmap scan</a></li>
        <li><a href="/"><i class="material-icons">info</i>Show scan details</a></li>

        <li>
            <div class="divider"></div>
        </li>
        <li><a class="subheader">Support ProtecIotnet on GitLab</a></li>
        <li style="padding-left:30px;margin-top:-20px;"><i class="fab fa-gitlab"></i> <a
                href="https://gitlab.com/hweckermann/proteciotnet">GitLab Project</a></li>
        <li style="padding-left:30px;margin-top:-20px;"><i class="fas fa-star"></i> <a
                href="https://gitlab.com/hweckermann/proteciotnet" id="gitlabstar">Star this project</a></li>
        <li style="padding-left:30px;margin-top:-20px;"><i class="fas fa-code-branch"></i> <a
                href="https://gitlab.com/hweckermann/proteciotnet" id="gitlabfork">Fork this project</a></li>
    </ul>
{% endif %}


{% block content %}
{% endblock %}

<!-- MODAL -->
<div id="modal1" class="modal modal-fixed-footer">
    <div class="modal-content">
        <h4 id="modaltitle">Titel</h4>
        <p id="modalbody">test</p>
    </div>
    <div class="modal-footer" id="modalfooter">
        <a href="#!" class="modal-close waves-effect waves-green btn grey white-text">Ok</a>
    </div>
    {% csrf_token %}
</div>

{{ cpestring|safe }}
<button onclick="topFunction()" class="btn btn-danger btn-floating btn-lg" id="backToTopBtn" title="Go to top"><i
        class="fas fa-arrow-up"></i></button>


<script src="{% static "js/materialize.min.js" %}"></script>
<script>

    $(document).ready(function () {
        $('.sidenav').sidenav();
        $('.modal').modal();
        $('.tabs').tabs();
    });

</script>
</body>
</html>
